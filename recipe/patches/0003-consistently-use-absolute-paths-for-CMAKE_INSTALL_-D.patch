From adb755a89a25b946799c177de242bb7fea99421e Mon Sep 17 00:00:00 2001
From: "H. Vetinari" <h.vetinari@gmx.com>
Date: Mon, 6 Dec 2021 21:18:54 +1100
Subject: [PATCH 3/7] consistently use absolute paths for CMAKE_INSTALL_*DIR

---
 CMakeLists.txt | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 62c3b09..13e5964 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -40,11 +40,8 @@ endif()
 
 if (UNIX)
   include(GNUInstallDirs)
-  set(prefix ${CMAKE_INSTALL_PREFIX})
-  set(exec_prefix "\${prefix}")
-  set(libdir "\${exec_prefix}/${CMAKE_INSTALL_LIBDIR}")
-  set(includedir "\${prefix}/${CMAKE_INSTALL_INCLUDEDIR}")
-else()
+endif()
+if (TRUE)
   set(prefix ${CMAKE_INSTALL_PREFIX})
   set(exec_prefix "\${prefix}")
   set(libdir "\${exec_prefix}/lib")
@@ -79,15 +76,15 @@ if (APPLE)
 endif()
 
 if (NOT DEFINED CMAKE_INSTALL_BINDIR)
-  set(CMAKE_INSTALL_BINDIR bin)
+  set(CMAKE_INSTALL_BINDIR "${CMAKE_INSTALL_PREFIX}/bin")
 endif()
 
 if (NOT DEFINED CMAKE_INSTALL_LIBDIR)
-  set(CMAKE_INSTALL_LIBDIR lib)
+  set(CMAKE_INSTALL_LIBDIR "${CMAKE_INSTALL_PREFIX}/lib")
 endif()
 
 if (NOT DEFINED CMAKE_INSTALL_INCDIR)
-  set(CMAKE_INSTALL_INCDIR include)
+  set(CMAKE_INSTALL_INCDIR "${CMAKE_INSTALL_PREFIX}/include")
 endif()
 
 configure_file("${PROJECT_SOURCE_DIR}/config.h.in" "config.h")
-- 
2.38.1.windows.1

